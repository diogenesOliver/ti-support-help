generator client {
  provider      = "prisma-client-js"
  binaryTargets = ["native", "linux-musl-openssl-3.0.x"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Company {
  id                     String  @id @default(uuid())
  corporate_reason       String
  corporate_CNPJ         String  @unique
  corporate_email        String  @unique
  corporate_country      String
  corporate_state        String
  corporate_city         String
  corporate_street       String
  corporate_website_link String?
  corporate_token        String? @unique

  corporate_first_access Boolean @default(false)

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  collaborator Collaborator[]

  @@map("company")
}

model Collaborator {
  id           String @id @default(uuid())
  colab_name   String
  colab_email  String @unique
  colab_lead   String
  colab_sector String

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  company   Company @relation(fields: [companyId], references: [id])
  companyId String

  Ticket Ticket[]

  @@map("collaborator")
}

model Ticket {
  id              String  @id @default(uuid())
  ticket_code     String
  ticket_desc     String  @db.VarChar(255)
  ticket_foto     String? @db.VarChar(500)
  ticket_status   Boolean @default(false)
  employeed_email String
  employeed_name  String
  lead            String

  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt

  collaborator   Collaborator @relation(fields: [collaboratorId], references: [id])
  collaboratorId String

  @@map("ticket")
}
